<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock-Papper-Scissors</title>
</head>
<body>
  <p>Rock Papper Scissors</p>
  
  <button onclick="
    playGame('Rock');
  ">Rock</button>

  <button onclick="
    playGame('Paper');
  ">Paper</button>
  <button onclick="
    playGame('Scissors');
    ">Scissors</button>
  <button onclick="
     score.wins=0;
     score.losses=0;
     score.ties=0;
     localStorage.removeItem('score');
  
  ">Reset score</button>
  
  <script>
    //save the last förändring but i save to the localstorage that after loading page its not going to change and shows us the last changing
    /*const score={
        wins:0,
        losses:0,
        ties:0
      }*/
    // const score=JSON.parse(localStorage.getItem('score'));
    //get score from set.item and convert to object
    //console.log(JSON.parse(localStorage.getItem('score')));
    //let score= JSON.parse(localStorage.getItem('score'));

   /* if(score===null){
      score={
        wins:0,
        losses:0,
        ties:0
      }
    }*/

    /*if(!score){
      score={
        wins:0,
        losses:0,
        ties:0
      }
    }*/
    //default oparator
    let score= JSON.parse(localStorage.getItem('score'))||
      {
        wins:0,
        losses:0,
        ties:0
      }

     
    function playGame(playerMove){
      
      computerMove=pickComputerMove();
      let result='';
      if(playerMove==='Scissors'){
        if(computerMove==='Rock'){
            result='You lose';
          }else if( computerMove==='Paper'){
            result='You win';
          }else if (computerMove=== 'Scissors'){
            result='Same same';
          } 
      }else if(playerMove==='Rock'){
        if(computerMove==='Rock'){
        result='Same Same';
        }else if( computerMove==='Paper'){
        result='You lose';
        }else if (computerMove=== 'Scissors'){
        result='You win';
        } 
      }else if(playerMove==='Paper'){
        if(computerMove==='Rock'){
        result='You win';
        }else if( computerMove==='Paper'){
        result='same same';
        }else if (computerMove=== 'Scissors'){
        result='You lose';
      } 
   }
      if(result==='You win'){
          score.wins+=1;
      }else if(result==='You lose'){
          score.losses+=1;
      }else if(result==='same same'){
          score.ties+=1;
      }
      //it must be string
      
      localStorage.setItem('score', JSON.stringify(score));
   
      alert(`computer choose ${computerMove} and player  choose ${playerMove}, ${result}.\n Wins: ${score.wins}, Losses: ${score.losses}, Ties: ${score.ties}
   `);
 }
        
    function pickComputerMove(){
      numbers=[0,1,2];
      randomNum=Math.floor(Math.random()*3);
      let computerMove;
      if(randomNum===0){
        computerMove='Rock';
      }else if(randomNum===1){
        computerMove='Paper';
      }else if(randomNum===2){
        computerMove='Scissors';
      }
      return computerMove;
    }

  


  </script>
</body>
</html>